@{
    ViewData["Title"] = "Home Page";
}

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawCharts);

    function drawCharts() {
        drawPieChart();
        drawLineChart();
    }

    function drawPieChart() {
        var data = google.visualization.arrayToDataTable([
            ['Item type', 'Requests'],

            ['Shoes', 19],
            ['Pants', 14],
            ['Shirts', 10],
            ['Boots', 8],
            ['Outerwear', 6],
            ['Headgear', 3],
            ['High visibility', 3],
            ['Gloves', 1]
        ]);

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data);
    }

    function drawLineChart() {

        var data = new google.visualization.DataTable();
        data.addColumn('number', 'X');
        data.addColumn('number', 'Requests');

        data.addRows([
            [0, 0], [1, 10], [2, 23], [3, 17], [4, 18], [5, 9],
            [6, 11], [7, 27], [8, 33], [9, 40], [10, 32], [11, 35],
            [12, 30], [13, 40], [14, 42], [15, 47], [16, 44], [17, 48],
            [18, 52], [19, 54], [20, 42], [21, 55], [22, 56], [23, 57],
            [24, 60], [25, 50], [26, 52], [27, 51], [28, 49], [29, 53],
            [30, 55],
        ]);

        var options = {
            hAxis: {
                title: 'Day'
            },
            vAxis: {
                title: 'Requests'
            },
            legend: {
                position: 'none'
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('linechart'));

        chart.draw(data, options);
    }
</script>

<div class="row">
    <div class="container">
        <h3>Recent Trends</h3>
        <div class="container">
            <div class="row">
                <div class="col-6 col-md-6">
                    <h2>Item popularity</h2>
                    <div id="piechart" style="width:500px; height:300px;"></div>
                </div>
                <div class="col-6 col-md-6">
                    <h2>Requests within past 30 days</h2>
                    <div id="linechart"></div>
                </div>
            </div>
        </div>

        <div>
            <h3>Calendar</h3>
            <button type="button" class="btn btn-primary" id="appointment">Add appointment</button>
            <div class="container">
                <div id='calendar'></div>
            </div>

            <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.0.1/fullcalendar.min.css">
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/moment.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/jquery.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/jquery-ui.custom.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/fullcalendar.min.js"></script>
            <script type="text/javascript">

			$(document).ready(function () {
				$('#calendar').fullCalendar({
        			header: {
            			left: 'prev,next today',
            			center: 'title',
            			right: 'month,agendaWeek,agendaDay'
					},
            		firstDay: 1, //The day that each week begins (Monday=1)
            		slotMinutes: 60,
            		events: '@Url.RouteUrl(new{ action="GetEvents", controller="Home"})'
        		});
    		});
            </script>

        </div>

    </div>
</div>

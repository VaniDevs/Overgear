@{
    ViewData["Title"] = "Home Page";
}

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawCharts);

    function drawCharts() {
        drawPieChart();
        drawLineChart();
    }

    function drawPieChart() {
        var data = google.visualization.arrayToDataTable([
            ['Item type', 'Requests'],

            ['Shoes', 19],
            ['Pants', 14],
            ['Shirts', 10],
            ['Boots', 8],
            ['Outerwear', 6],
            ['Headgear', 3],
            ['High visibility', 3],
            ['Gloves', 1]
        ]);

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data);
    }

    function drawLineChart() {
        var data = google.visualization.arrayToDataTable([
            ["Date", "requests"],
            [new Date(2015, 0, 1), 5], [new Date(2015, 0, 2), 7], [new Date(2015, 0, 3), 3],
            [new Date(2015, 0, 4), 1], [new Date(2015, 0, 5), 3], [new Date(2015, 0, 6), 4],
            [new Date(2015, 0, 7), 3], [new Date(2015, 0, 8), 4], [new Date(2015, 0, 9), 2],
            [new Date(2015, 0, 10), 5], [new Date(2015, 0, 11), 8], [new Date(2015, 0, 12), 6],
            [new Date(2015, 0, 13), 3], [new Date(2015, 0, 14), 3], [new Date(2015, 0, 15), 5],
            [new Date(2015, 0, 16), 7], [new Date(2015, 0, 17), 6], [new Date(2015, 0, 18), 6],
            [new Date(2015, 0, 19), 3], [new Date(2015, 0, 20), 1], [new Date(2015, 0, 21), 2],
            [new Date(2015, 0, 22), 4], [new Date(2015, 0, 23), 6], [new Date(2015, 0, 24), 5],
            [new Date(2015, 0, 25), 9], [new Date(2015, 0, 26), 4], [new Date(2015, 0, 27), 9],
            [new Date(2015, 0, 28), 8], [new Date(2015, 0, 29), 6], [new Date(2015, 0, 30), 4],
            [new Date(2015, 0, 31), 6], [new Date(2015, 1, 1), 7], [new Date(2015, 1, 2), 9]
        ]);

        var options = {
            hAxis: {
                title: 'Day',
                format: 'M/d/yy',
                gridlines: { count: 15 }
            },
            vAxis: {
                gridlines: { color: 'none' },
                title: 'Requests'
            },
            legend: {
                position: 'none'
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('linechart'));

        chart.draw(data, options);
    }
</script>

<div class="row">
    <div class="container">
        <h3>Recent Trends</h3>
        <div class="container">
            <div class="row">
                <div class="col-6 col-md-6">
                    <h3>Item popularity</h3>
                    <div id="piechart" style="width:500px; height:300px;"></div>
                </div>
                <div class="col-6 col-md-6">
                    <h3>Requests within past 30 days</h3>
                    <div id="linechart" style="width:700px; height:300px;"></div>
                </div>
            </div>
        </div>

        <div>
            <h3>Calendar</h3>
            <button type="button" class="btn btn-primary" id="appointment">Add appointment</button>
            <div class="container">
                <div id='calendar'></div>
            </div>

            <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.0.1/fullcalendar.min.css">
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/moment.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/jquery.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/lib/jquery-ui.custom.min.js"></script>
            <script src="https://fullcalendar.io/js/fullcalendar-2.1.1/fullcalendar.min.js"></script>
            <script type="text/javascript">

			$(document).ready(function () {
				$('#calendar').fullCalendar({
        			header: {
            			left: 'prev,next today',
            			center: 'title',
            			right: 'month,agendaWeek,agendaDay'
					},
            		firstDay: 1, //The day that each week begins (Monday=1)
            		slotMinutes: 60,
            		events: '@Url.RouteUrl(new{ action="GetEvents", controller="Home"})'
        		});
    		});
            </script>

        </div>

    </div>
</div>
